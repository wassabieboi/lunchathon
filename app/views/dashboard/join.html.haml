=render :partial => "mobile_navbar", :layout => "mobile_navbar"

= javascript_include_tag "mobile"

%span#restaurant-id{:style => "display:none"}=params[:id]
- if params[:id] != "new"
  :javascript
    getRestaurantUsers();
- else
  :javascript
    attachCreateRestaurantButton();
    
:javascript
  attachSignUpButton();
  attachModalRegisterButton();

.panel.panel-default#restaurant-panel
  - if params[:id] == "new"
    .input-group.full-input-width
      %input.form-control#restaurant-name-input{:type => "text"}
      %span.input-group-btn
        %button.btn.btn-default#create-restaurant-button{:type => "button"} Create restaurant!
  - else
    %h3.panel-heading#panel-restaurant-name
  %table.table#restaurant-user-table
    %tbody

.input-group
  - if current_user
    %input.form-control#username-input{:type => "text", :readonly => "true", :value => session[:username]}
  - else
    %input.form-control#username-input{:type => "text"}
  %span.input-group-btn
    %button.btn.btn-default#add-to-restaurant-button{:type => "button"} Sign me up!

.modal.fade#modal-register
  .modal-dialog
    .modal-content
      .modal-header
        %button.close{:type => "button", "data-dismiss" => "modal", "area-hidden"  => "true"} Ã—
        %h4.modal-title Register as new user?
      .modal-body
        %p You are a new user, please register!
        %p Please enter a display name:
        %input#displayname-input
      .modal-footer
        %button.btn.btn-default{:type => "button", "data-dismiss" => "modal"} Close
        %button.btn.btn-primary#modal-register-button{:type => "button"} Register